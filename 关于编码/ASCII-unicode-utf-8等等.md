[参考连接](http://www.ruanyifeng.com/blog/2007/10/ascii_unicode_and_utf-8.html)

## ASCII

一个字节8bit可以表示256个状态，每个状态代表一个字符

对英语字符与二进制位之间的关系，做了统一规定。这被称为ASCII码

ASCII码一共规定了128个字符的编码，

* 比如空格"SPACE"是32（二进制00100000），
* 大写的字母A是65（二进制01000001）。

这128个符号（包括32个不能打印出来的控制符号），只占用了一个字节的后面7位，最前面的1位统一规定为0。

## unicode

世界上存在多种编码方式，所以造成一个人发送的东西，和接收到的东西打开不一样，原因就是双方使用的编码方式不同，这就是乱码的原因



如果有一种编码，将世界上所有的符号都纳入其中。每一个符号都给予一个独一无二的编码，那么乱码问题就会消失。这就是Unicode，就像它的名字都表示的，这是一种所有符号的编码

Unicode当然是一个很大的集合，现在的规模可以容纳100多万个符号。每个符号的编码都不一样，比如，U+0639表示阿拉伯字母Ain，U+0041表示英语的大写字母A，U+4E25表示汉字"严"。具体的符号对应表，可以查询[unicode.org](http://www.unicode.org/)，或者专门的[汉字对应表](http://www.chi2ko.com/tool/CJK.htm)。



## unicode的问题

unicode规定了字符的二进制表示，但是他并没有规定如何取解释这些二进制，

举个🌰

```
汉字"严"的unicode是十六进制数4E25，转换成二进制数足足有15位（100111000100101），不知道应该将其解释为3个字符还是一个字符
```

因此问题就是如何解释区别呢？

又如何存储呢？如果是ASCII存储为3个字节，浪费了！

上面两个问题促使了UTF-8 UTF-16 UTF-36的出现

## UTF-8

是一种变长的编码方式

编码规则

* 对于单字节的符号，字节的第一位设为0，后面7位为这个符号的unicode码。因此对于英语字母，UTF-8编码和ASCII码是相同的。
* 对于n字节的符号（n>1），第一个字节的前n位都设为1，第n+1位设为0，后面字节的前两位一律设为10。剩下的没有提及的二进制位，全部为这个符号的unicode码。

```
Unicode符号范围 | UTF-8编码方式
(十六进制) | （二进制）
--------------------+---------------------------------------------
0000 0000-0000 007F | 0xxxxxxx
0000 0080-0000 07FF | 110xxxxx 10xxxxxx
0000 0800-0000 FFFF | 1110xxxx 10xxxxxx 10xxxxxx
0001 0000-0010 FFFF | 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx
```

🌰：

已知"严"的unicode是4E25（100111000100101），根据上表，可以发现4E25处在第三行的范围内（0000 0800-0000 FFFF），因此"严"的UTF-8编码需要三个字节，即格式是"1110xxxx 10xxxxxx 10xxxxxx"。然后，从"严"的最后一个二进制位开始，依次从后向前填入格式中的x，多出的位补0。这样就得到了，"严"的UTF-8编码是"11100100 10111000 10100101"，转换成十六进制就是E4B8A5