#OSI七层
![](http://upload-images.jianshu.io/upload_images/53611-6372b2b829bf2820.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

* 物理层：激活、维持、关闭通信断点之间的机械特性、电气特性、功能特性
* 数据链路层：物理地址寻址，数据成帧、流量控制、数据的检错、重发
* 网络层：网络层负责对子网间的数据包进行路由选择。网络层还可以实现拥塞控制、国际互连功能
* 运输层：两个主机之间的通信提供服务  TCP、UDP
* 会话层：管理和终止表示层与实体之间的通信会话
* 表示层：应用层数据编码和转化
* 应用层：FTP、HTTP、DNS、

#TCP
**面向连接的可靠的字节流服务**

* 应用数据被分割成适合发送的数据块
* 超时重传
* TCP收到另外一端的数据后，会发送一个确认

![](http://upload-images.jianshu.io/upload_images/53611-a0756c435d1df0ef.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

##三次握手
* 第一次：客户端发送syn包到服务器，进入SYN_SEND状态，等待服务器确认
* 第二次：服务器收到SYN包，确认客户的SYN(ack=x+1),自己也发送一个SYN包，即SYN+ACK包，服务器进入SYN——RECV状态
* 第三次：客户端收到SYN+ACK，向服务器发送确认包ACK，

客户端与服务器今日established状态，完成三次握手

##四次挥手
* 第一次：主动关闭放发送FIN，此时还可以接收数据
* 第二次：被动关闭方收到FIN包，发送ACK给对方
* 第三次：被动关闭方放松FIN，用来关闭被动关闭到主动关闭的数据传送
* 第四次主动关闭方收到FIN，返回ACK

#UDP
UDP是简单的面向数据报的运输层协议，不提供可靠性，不保证数据能够到达目的地，UDP没有超时重传

# TCP和UDP的区别

TCP与UDP区别总结：

1、TCP面向连接（如打电话要先拨号建立连接）;UDP是无连接的，即发送数据之前不需要建立连接

2、TCP提供可靠的服务。也就是说，通过TCP连接传送的数据，无差错，不丢失，不重复，且按序到达;UDP尽最大努力交付，即不保证可靠交付
3、TCP面向字节流，实际上是TCP把数据看成一连串无结构的字节流;UDP是面向报文的
UDP没有拥塞控制，因此网络出现拥塞不会使源主机的发送速率降低（对实时应用很有用，如IP电话，实时视频会议等）
4、每一条TCP连接只能是点到点的;UDP支持一对一，一对多，多对一和多对多的交互通信
5、TCP首部开销20字节;UDP的首部开销小，只有8个字节

6、TCP的逻辑通信信道是全双工的可靠信道，UDP则是不可靠信道