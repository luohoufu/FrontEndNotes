[TOC]

[SSL/TLS 握手过程详解](https://juejin.im/post/584b76d3a22b9d0058d5036f)

[ssl tls](http://www.jianshu.com/p/c67baf5fce6d)

粗略地看了看具体如何实现的未看，想了解，继续看一下上两篇文档吧



## 加密算法

对称加密和非对称加密，对称加密为加密与解密使用同一个密匙，非对称加密及加密有解密使用不同的密匙，公开密匙，和私密密匙，加密密匙和解密密匙是成对出现的





![](https://user-gold-cdn.xitu.io/2016/12/10/fbc5f3bba5eb9b37ed6651ee347e1a7b.jpg?imageView2/0/w/1280/h/960)

http协议是明文传输

https中真正起到加密作用的是ssl和TLS

ssl／tls是为了安全地协商出一个一份对称加密的密匙

作用：

* 认证用户和服务器，确保数据发到了正确的服务器和客户端
* 保证数据不被修改
* 加密数据，保证数据不被中途窃取

## ssl：secure socket layer 安全套接字层

利用数据加密技术、确保数据在网络的传输中不被截取

分为两层：

* ssl记录协议：运行在可靠传输协议之上，负责数据分装压缩加密
* ssl握手协议：ssl记录协议之上，在实际的数据传输之前，进行身份验证、协商加密算法、交换公匙等

## tls：transport layer security 传输层安全协议

为两个应用程序之间传输数据保证保密性和数据完整性，ssl的后续版本



## https工作原理

过程：

* 浏览器将自己支持的加密算法发送给服务器
* 服务器从中选择一种加密算法和hash算法，并将自己的身份信息以证书的形式发回给浏览器。证书里包含了网址地址、加密共识，证书的颁发机构等
* 获得网站证书之后；
  * 验证证书的合法性（颁发证书的机构是否合法，证书中包含的网站地址是否与正在访问的地址一致）
  * 如果证书受信任，浏览器生成一串**随机数密码**（交换数据用的密码）
  * hash计算握手信息，并使用公匙对消息加密（握手信息+握手信息的hash值）
* 接收浏览器发的数据
* 浏览器解密，计算hash，是否一致，并用私匙解密随机数密码，再用随机数密码揭秘握手消息和hash值，